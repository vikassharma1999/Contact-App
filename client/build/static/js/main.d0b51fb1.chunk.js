(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{148:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),o=n.n(r),l=(n(92),n(93),n(22)),u=n(8),i=n(19),m="http://localhost:8000/api",p=n(151),f=n(149),d=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),u=Object(i.a)(o,2),d=u[0],s=u[1],h=function(){fetch("".concat(m,"/contact"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){e.error?s(d):r(e)}))};Object(a.useEffect)((function(){h()}),[]);var E=function(e){(function(e){return fetch("".concat(m,"/contact/").concat(e),{method:"DELETE",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){e.error?s(e.error):h()}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{padding:10}},c.a.createElement(p.a,{type:"primary"},c.a.createElement(l.b,{to:"/create"},"Add Contact"))),n.map((function(e){return c.a.createElement("div",{key:e._id,style:{padding:10,justifyContent:"center"}},c.a.createElement(f.a,{size:"small",title:e.name,extra:c.a.createElement(l.b,{to:"/update/".concat(e._id)},"Update")},c.a.createElement("p",null,"Email: ",e.email),c.a.createElement("p",null,"Contact No: ",e.contactno),c.a.createElement(p.a,{type:"primary",danger:!0,onClick:function(t){return E(e._id)}},"Delete")))})))},s=n(35),h=n(21),E=function(){var e=Object(a.useState)({name:"",email:"",contactno:""}),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),u=Object(i.a)(o,2),f=u[0],d=u[1],E=Object(a.useState)(!1),b=Object(i.a)(E,2),j=b[0],g=b[1],y=n.name,O=n.email,v=n.contactno,C=function(e){r(Object(h.a)(Object(h.a)({},n),{},Object(s.a)({},e.target.name,e.target.value)))},S=function(e){var t;e.preventDefault(),d(""),g(!1),(t=n,fetch("".concat(m,"/contact"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?d(!0):(r(Object(h.a)(Object(h.a)({},n),{},{name:"",email:"",contactno:""})),d(!1),g(!0))})).catch((function(e){return console.log(e)}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{padding:10}},c.a.createElement(p.a,{type:"primary"},c.a.createElement(l.b,{to:"/"},"Back"))),c.a.createElement("div",{style:{padding:10}},function(){if(j)return c.a.createElement("h4",null,"Contact created successfully")}(),function(){if(f)return c.a.createElement("h4",null,"Failed to create contact, Please use other Name")}()),c.a.createElement("form",{onSubmit:function(e){return S(e)},className:"create-contact-form"},c.a.createElement("div",{className:"create-contact-details"},c.a.createElement("input",{type:"text",name:"name",placeholder:"Name",onChange:function(e){return C(e)},value:y,required:!0}),c.a.createElement("input",{type:"email",name:"email",placeholder:"Email",onChange:function(e){return C(e)},value:O,required:!0}),c.a.createElement("input",{type:"text",name:"contactno",placeholder:"Enter 10 digit number here",onChange:function(e){return C(e)},value:v,required:!0,minLength:"10",maxLength:"10"}),c.a.createElement("button",null,"Add Contact"))))},b=function(e){var t=e.match,n=Object(a.useState)({name:"",email:"",contactno:""}),r=Object(i.a)(n,2),o=r[0],u=r[1],f=Object(a.useState)(!1),d=Object(i.a)(f,2),E=d[0],b=d[1],j=Object(a.useState)(!1),g=Object(i.a)(j,2),y=g[0],O=g[1],v=o.name,C=o.email,S=o.contactno,x=function(e){var t;(t=e,fetch("".concat(m,"/contact/").concat(t),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?b(!0):u(e)}))};Object(a.useEffect)((function(){x(t.params.id)}),[]);var N=function(e){u(Object(h.a)(Object(h.a)({},o),{},Object(s.a)({},e.target.name,e.target.value)))},T=function(e){var n,a;e.preventDefault(),b(""),O(!1),(n=t.params.id,a=o,fetch("".concat(m,"/contact/").concat(n),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?b(!0):(b(!1),O(!0),u(Object(h.a)(Object(h.a)({},o),{},{name:"",email:"",contactno:""})))}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{padding:10}},c.a.createElement(p.a,{type:"primary"},c.a.createElement(l.b,{to:"/"},"Back"))),c.a.createElement("div",{style:{padding:10}},function(){if(y)return c.a.createElement("h4",null,"Contact Updated successfully")}(),function(){if(E)return c.a.createElement("h4",null," Failed to update contact, Please use other Name")}()),c.a.createElement("form",{onSubmit:function(e){return T(e)},className:"create-contact-form"},c.a.createElement("div",{className:"create-contact-details"},c.a.createElement("input",{type:"text",name:"name",placeholder:"Name",onChange:function(e){return N(e)},value:v,required:!0}),c.a.createElement("input",{type:"email",name:"email",placeholder:"Email",onChange:function(e){return N(e)},value:C,required:!0}),c.a.createElement("input",{type:"text",name:"contactno",placeholder:"Enter 10 digit number here",onChange:function(e){return N(e)},value:S,required:!0,minLength:"10",maxLength:"10"}),c.a.createElement("button",null,"Update Contact"))))};var j=function(){return c.a.createElement(l.a,null,c.a.createElement(u.c,null,c.a.createElement(u.a,{path:"/",exact:!0,component:d}),c.a.createElement(u.a,{path:"/create",exact:!0,component:E}),c.a.createElement(u.a,{path:"/update/:id",exact:!0,component:b})))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById("root"))},87:function(e,t,n){e.exports=n(148)},92:function(e,t,n){},93:function(e,t,n){}},[[87,1,2]]]);
//# sourceMappingURL=main.d0b51fb1.chunk.js.map